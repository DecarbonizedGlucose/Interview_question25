### 8.指针！数组！

尝试解释一下下列语句吧～

```c
int main () {
int a[ 3 ] = { 2 ，4 , 8 };
int(*b)[ 3 ] = &a;
int *c[ 3 ] = {a, a + 1， a + 2 };
int (*f1(int))(int*, int);
return 0 ;
}
```
说说下列输出分别是什么？
```c
a,*b, *b + 1 , b, b + 1 , *(*b + 1 ),c
sizeof(a),sizeof(b)，sizeof(&a)

```

------

| **出题人** | **徐子淳**   |
| ---------- | ------------ |
| 知识点1    | 指针数组，数组指针，函数指针 |
| 知识点2    | 数组名衰变   |
| 知识点3    | sizeof 特性    |

------

Q1.解释指针数组，数组指针，函数指针 40%

Q2.讲讲数组名衰变 35%

Q3.sizeof特性 25%

```
A1：
答案--64位系统下：
a: 0x7ffea81d4cb4
*b: 0x7ffea81d4cb4
*b + 1: 0x7ffea81d4cb8
b: 0x7ffea81d4cb4
b + 1: 0x7ffea81d4cc0
*(*b + 1): 4
c: 0x7ffea81d4cc0
sizeof(a): 12
sizeof(b): 8
sizeof(&a): 8

a 衰变 → 地址 &a[0]
*b 解引用 → 数组 a → 衰变 → 地址 &a[0]
b → 数组 a 的地址 &a

数组指针是指向数组的指针，本质是指针
指针数组是里面元素都是指针的数组,本质是数组
函数指针是指向函数的指针,本质是指针

A2：
在 C 语言里，数组名在大多数表达式中会“衰变”成一个指向数组首元素的指针。
不会衰变的特殊情况有 三种：
1. 数组名作为函数参数时
2. 数组名作为 sizeof 运算符的操作数时
3. 数组名作为 & 运算符的操作数时

A3：
sizeof(数组) 给出数组实际大小。
sizeof(指针) 给出指针大小（通常 4 或 8）。
```
